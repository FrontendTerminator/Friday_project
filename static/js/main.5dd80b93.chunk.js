(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,r){e.exports={container:"Login_container__2Z8ne",input:"Login_input__zuRwJ",button:"Login_button__1Cp3v",error:"Login_error__xqEQJ",loading:"Login_loading__1yopJ"}},19:function(e,t,r){e.exports={container:"Registration_container__3VgyV",input:"Registration_input__12Mad",button:"Registration_button__2o3tW",error:"Registration_error__2tPsH",signIn:"Registration_signIn__1yVFz"}},20:function(e,t,r){e.exports={pageBlock:"PasswordRecovery_pageBlock__sDugA",secondBlock:"PasswordRecovery_secondBlock__1TSVl",input:"PasswordRecovery_input__3FiHv",error:"PasswordRecovery_error__3wXw-",button:"PasswordRecovery_button__29LP6"}},25:function(e,t,r){e.exports={btn:"SuperButton1_btn__38i74",default:"SuperButton1_default__19djC",disabled:"SuperButton1_disabled__b37VM",red:"SuperButton1_red__1vLIb"}},26:function(e,t,r){e.exports={superInput:"SuperInputText_superInput__3c4N5",errorInput:"SuperInputText_errorInput__18Fxk",error:"SuperInputText_error__2cdAa"}},33:function(e,t,r){e.exports={container:"Profile_container__a3st2",loading:"Profile_loading__XWVgp"}},34:function(e,t,r){e.exports={mainBlock:"Page404_mainBlock__3gMO_",image:"Page404_image__27YBu"}},35:function(e,t,r){e.exports={default:"SuperButton_default__3HJNO",red:"SuperButton_red__3O53E"}},36:function(e,t,r){e.exports={checkbox:"SuperCheckbox_checkbox__-VPPs",spanClassName:"SuperCheckbox_spanClassName__1QDb-"}},47:function(e,t,r){e.exports={preloader:"preloader_preloader__1VK1h"}},48:function(e,t,r){e.exports={blue:"TestPage_blue__3sxPH",column:"TestPage_column__Hk85v"}},49:function(e,t,r){e.exports={navigationBlock:"Navigation_navigationBlock__1Cg77"}},55:function(e,t,r){},56:function(e,t,r){},82:function(e,t,r){"use strict";r.r(t);var n=r(1),a=r.n(n),c=r(22),s=r.n(c),o=(r(55),function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,83)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))}),i=(r(56),r(6)),u=r(5),j=r(24),l=r(2),d=r(14),b=r(11),p=r.n(b),O=r(16),h=r(25),g=r.n(h),x=r(0),f=function(e){var t=e.red,r=e.className,n=Object(O.a)(e,["red","className"]),a="".concat(g.a.btn," ").concat(t?g.a.red:g.a.default," ").concat(r);return Object(x.jsx)("button",Object(l.a)({className:a},n))},_=r(4),v=r(12),m=r.n(v),S=r(17),y=r(30),w=r.n(y),R=w.a.create({baseURL:"https://neko-back.herokuapp.com/2.0/",withCredentials:!0}),k=function(){return R.post("/auth/me")},T=function(e){return R.post("/auth/login",e)},N=function(){return R.delete("/auth/me")},C=function(e,t){return R.post("auth/register",{email:e,password:t}).then((function(e){return e.data}))},E=function(e,t){return w.a.post("https://neko-back.herokuapp.com/2.0/auth/forgot",{email:e,from:"Test-front-admin <mikutishvili.koba@gmail.com>",message:"<div>Password recovery. Click this <a href='http://".concat(t,"/#/newPassword/$token$'>link</a></div>")})},P={status:"free",isRegister:!1,error:""},A=function(e){return{type:"/register_reducer/SET_STATUS",status:e}},I=function(e){return{type:"/register_reducer/SET_IS_REGISTER",isRegister:e}},B=function(e){return{type:"/register_reducer/SET_ERROR",error:e}},L={userData:{email:null,name:null,avatar:null,publicCardPacksCount:null},isLoading:!1,error:null,isAuthSuccess:!1},F=function(e){return{type:"friday-project/login/SET_USER_DATA",payload:e}},U=function(e){return{type:"friday-project/login/SET_IS_LOADING",value:e}},z=function(e){return{type:"friday-project/login/SET_ERROR",error:e}},D=function(e){return{type:"friday-project/login/SET_IS_AUTH_SUCCESS",value:e}},Z=r.p+"static/media/tms-loading.45dec5c5.gif",H=r(47),V=r.n(H),q=function(){return Object(x.jsx)("div",{className:V.a.preloader,children:Object(x.jsx)("img",{src:Z,alt:"Preloader"})})},G=function(){var e=Object(n.useState)({email:"",password:"",rememberMe:!1}),t=Object(d.a)(e,2),r=t[0],a=t[1],c=Object(_.b)(),s=function(e){var t=e.currentTarget,n="checkbox"===t.type?t.checked:t.value;a(Object(l.a)(Object(l.a)({},r),{},Object(j.a)({},t.name,n)))},o=Object(_.c)((function(e){return e.auth.isLoading})),b=Object(_.c)((function(e){return e.auth.error})),O=Object(_.c)((function(e){return e.auth.isAuthSuccess}));return Object(x.jsx)(x.Fragment,{children:O?Object(x.jsx)(u.a,{to:ye.profile}):Object(x.jsx)("form",{name:"login",className:p.a.container,children:o?Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:p.a.loading,children:"Loading..."}),Object(x.jsx)(q,{})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h3",{children:"Sign in"}),Object(x.jsx)("input",{name:"email",type:"text",placeholder:"email",className:p.a.input,onChange:s}),Object(x.jsx)("input",{name:"password",type:"password",placeholder:"password",className:p.a.input,onChange:s}),b&&Object(x.jsx)("span",{className:p.a.error,children:b}),Object(x.jsxs)("div",{children:[Object(x.jsx)("input",{name:"rememberMe",type:"checkbox",className:p.a.checkbox,onChange:s}),Object(x.jsx)("span",{children:"Remember me"})]}),Object(x.jsx)(f,{onClick:function(e){e.preventDefault();var t;/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(r.email)?c((t=r,function(){var e=Object(S.a)(m.a.mark((function e(r){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(U(!0)),e.next=4,T(t);case 4:n=e.sent,r(U(!1)),r(D(!0)),r(F(n.data)),r(z("")),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(0),a=e.t0.response.data.error,r(U(!1)),r(z(a));case 16:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}())):c(z("Please, enter correct email"))},className:p.a.button,disabled:o,children:"Sign in"}),Object(x.jsx)(i.b,{to:ye.passwordRecovery,children:"Forgot Password?"}),Object(x.jsx)(i.b,{to:ye.registration,children:"Sign up"})]})})})},J=r(19),M=r.n(J),Q=r(26),$=r.n(Q),K=function(e){var t=e.type,r=e.onChange,n=e.onChangeText,a=e.onKeyPress,c=e.onEnter,s=e.error,o=e.className,i=e.spanClassName,u=Object(O.a)(e,["type","onChange","onChangeText","onKeyPress","onEnter","error","className","spanClassName"]),j="".concat($.a.error," ").concat(i||""),d="".concat(s?$.a.errorInput:""," ").concat(o||$.a.superInput);return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("input",Object(l.a)({type:t,onChange:function(e){r&&r(e),n&&n(e.currentTarget.value)},onKeyPress:function(e){a&&a(e),"Enter"===e.key&&c&&c()},className:d},u)),s&&Object(x.jsx)("div",{className:j,children:s})]})},W=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(""),s=Object(d.a)(c,2),o=s[0],j=s[1],l=Object(n.useState)(""),b=Object(d.a)(l,2),O=b[0],h=b[1],g=Object(_.b)(),v=Object(_.c)((function(e){return e.register.status})),y=Object(_.c)((function(e){return e.register.isRegister})),w=Object(_.c)((function(e){return e.register.error}));Object(n.useEffect)((function(){g(function(){var e=Object(S.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:e.sent.data&&t(I(!0));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[g]);var R=/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;return Object(x.jsxs)(x.Fragment,{children:[y&&Object(x.jsx)(u.a,{to:ye.login}),Object(x.jsxs)("div",{className:M.a.container,children:["loading"===v?Object(x.jsx)(q,{}):Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:"Registration"}),Object(x.jsxs)("form",{className:M.a.form,children:[Object(x.jsx)("div",{children:Object(x.jsx)(K,{className:p.a.input,placeholder:"email",onChangeText:function(e){a(e)},value:r})}),Object(x.jsx)("div",{children:Object(x.jsx)(K,{type:"password",placeholder:"password",className:p.a.input,onChangeText:function(e){j(e)},value:o})}),Object(x.jsx)("div",{children:Object(x.jsx)(K,{type:"password",placeholder:"password",className:p.a.input,onChangeText:function(e){h(e)},value:O})}),Object(x.jsx)("div",{className:M.a.button,children:Object(x.jsx)(f,{onClick:function(){var e,t;o===O?R.test(r)?g((e=r,t=o,function(){var r=Object(S.a)(m.a.mark((function r(n){var a;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(A("loading")),r.next=4,C(e,t);case 4:n(A("success")),n(I(!0)),r.next=13;break;case 8:r.prev=8,r.t0=r.catch(0),a=r.t0.response.data,n(A("error")),n(B(a.error));case 13:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}())):g(B("Please, enter correct email")):g(B("Password confirmation does not match"))},children:"Register"})}),Object(x.jsx)("div",{className:M.a.error,children:w})]})]}),Object(x.jsx)("div",{className:M.a.signIn,children:Object(x.jsx)(i.b,{to:ye.login,children:"Sign in"})})]})]})},X=r(33),Y=r.n(X),ee=function(){var e=Object(_.b)(),t=Object(_.c)((function(e){return e.auth.isAuthSuccess})),r=Object(_.c)((function(e){return e.auth.userData})),a=Object(_.c)((function(e){return e.auth.isLoading}));return Object(n.useEffect)((function(){e(function(){var e=Object(S.a)(m.a.mark((function e(t){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:r=e.sent,t(D(!0)),t(F(r.data)),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),n=e.t0.response.data.error,t(U(!1)),t(z(n));case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),Object(x.jsx)(x.Fragment,{children:t?Object(x.jsx)("div",{className:Y.a.container,children:a?Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{className:Y.a.loading,children:"Loading..."}),Object(x.jsx)(q,{})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("p",{children:["Avatar: ",r.avatar]}),Object(x.jsxs)("p",{children:["Name: ",r.name]}),Object(x.jsxs)("p",{children:["Email: ",r.email]}),Object(x.jsxs)("p",{children:["Card packs: ",r.publicCardPacksCount]}),Object(x.jsx)(f,{onClick:function(){e(function(){var e=Object(S.a)(m.a.mark((function e(t){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(U(!0)),e.next=4,N();case 4:t(U(!1)),t(D(!1)),t(I(!1)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(0),r=e.t0.response.data.error,t(U(!1)),t(z(r));case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())},children:"Sign out"})]})}):Object(x.jsx)(u.a,{to:ye.login})})},te=r.p+"static/media/kot.da7a033b.jpg",re=r(34),ne=r.n(re),ae=function(){var e={backgroundImage:"url(".concat(te,")")};return Object(x.jsxs)("div",{className:ne.a.mainBlock,children:[Object(x.jsx)("h2",{children:"\u201cWe are so sorry, but page not found\u201d"}),Object(x.jsx)("div",{style:e,className:ne.a.image})]})},ce=r(20),se=r.n(ce),oe={serverResponseStatus:!1,error:"",serverRequestStatus:"undefined"},ie=function(e){return{type:"passwordRecovery/SET-ERROR",error:e}},ue=function(e){return{type:"passwordRecovery/SET-REQUEST-STATUS",serverRequestStatus:e}},je=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),r=t[0],a=t[1],c=Object(_.b)(),s=Object(_.c)((function(e){return e.passwordRecovery.error})),o=Object(_.c)((function(e){return e.passwordRecovery.serverResponseStatus})),j=Object(_.c)((function(e){return e.passwordRecovery.serverRequestStatus}));return Object(x.jsxs)(x.Fragment,{children:[o&&Object(x.jsx)(u.a,{to:ye.newPassword}),Object(x.jsx)("div",{className:se.a.pageBlock,children:"active"===j?Object(x.jsx)(q,{}):Object(x.jsxs)("div",{className:se.a.secondBlock,children:[Object(x.jsx)("h3",{children:"Password recovery"}),Object(x.jsx)("input",{type:"text",placeholder:"your email",onChange:function(e){a(e.currentTarget.value)},value:r,className:se.a.input}),Object(x.jsx)("div",{className:se.a.error,children:s}),Object(x.jsx)(f,{className:se.a.button,onClick:function(){if(0==/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/.test(r))c(ie("Please, enter correct email"));else{var e=window.location.host;c(function(e,t){return function(r){r(ue("active")),E(e,t).then((function(e){!0===e.data.success&&(r({type:"passwordRecovery/CHANGE-REQUEST-STATUS",status:!0}),r(ue("completed")))})).catch((function(e){r(ie(e.response.data.error)),r(ue("completed"))}))}}(r,e))}},children:"send"}),Object(x.jsx)(i.b,{to:ye.registration,children:"Sign up"})]})})]})},le=function(){return Object(x.jsx)("div",{children:"new password"})},de=r(35),be=r.n(de),pe=function(e){var t=e.red,r=e.className,n=Object(O.a)(e,["red","className"]),a="".concat(t?be.a.red:be.a.default," ").concat(r);return Object(x.jsx)("button",Object(l.a)({className:a},n))},Oe=r(36),he=r.n(Oe),ge=function(e){e.type;var t=e.onChange,r=e.onChangeChecked,n=e.className,a=(e.spanClassName,e.children),c=Object(O.a)(e,["type","onChange","onChangeChecked","className","spanClassName","children"]),s="".concat(he.a.checkbox," ").concat(n||"");return Object(x.jsxs)("label",{children:[Object(x.jsx)("input",Object(l.a)({type:"checkbox",onChange:function(e){t&&t(e),r&&r(e.currentTarget.checked)},className:s},c)),a&&Object(x.jsx)("span",{className:he.a.spanClassName,children:a})]})},xe=r(48),fe=r.n(xe),_e=function(){var e=Object(n.useState)(""),t=Object(d.a)(e,2),r=t[0],a=t[1],c=r?"":"error",s=function(){c?alert("\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442..."):alert(r)},o=Object(n.useState)(!1),i=Object(d.a)(o,2),u=i[0],j=i[1];return Object(x.jsxs)("div",{children:[Object(x.jsx)("hr",{}),Object(x.jsxs)("div",{className:fe.a.column,children:[Object(x.jsx)(K,{value:r,onChangeText:a,onEnter:s,error:c}),Object(x.jsx)(pe,{red:!0,onClick:s,children:"delete"}),Object(x.jsx)(ge,{checked:u,onChangeChecked:j,children:"some text"}),Object(x.jsx)(ge,{checked:u,onChange:function(e){return j(e.currentTarget.checked)}}),Object(x.jsx)(q,{})]})]})},ve=r(49),me=r.n(ve),Se=function(){return Object(x.jsxs)("div",{className:me.a.navigationBlock,children:[Object(x.jsx)(i.b,{to:ye.login,children:"login"}),Object(x.jsx)(i.b,{to:ye.registration,children:"registration"}),Object(x.jsx)(i.b,{to:ye.profile,children:"profile"}),Object(x.jsx)(i.b,{to:ye.page404,children:"page 404"}),Object(x.jsx)(i.b,{to:ye.passwordRecovery,children:"password recovery"}),Object(x.jsx)(i.b,{to:ye.newPassword,children:"new password"}),Object(x.jsx)(i.b,{to:ye.testPage,children:"test page"})]})},ye={login:"/login",registration:"/registration",profile:"/profile",page404:"/page404",passwordRecovery:"/passwordRecovery",newPassword:"/newPassword",testPage:"/testPage",pageNotFound:"*"},we=function(){return Object(x.jsx)(i.a,{children:Object(x.jsxs)("div",{children:[Object(x.jsx)(Se,{}),Object(x.jsx)("div",{children:Object(x.jsxs)(u.d,{children:[Object(x.jsx)(u.b,{path:ye.login,render:function(){return Object(x.jsx)(G,{})}}),Object(x.jsx)(u.b,{path:ye.registration,render:function(){return Object(x.jsx)(W,{})}}),Object(x.jsx)(u.b,{path:ye.profile,render:function(){return Object(x.jsx)(ee,{})}}),Object(x.jsx)(u.b,{path:ye.page404,render:function(){return Object(x.jsx)(ae,{})}}),Object(x.jsx)(u.b,{path:ye.passwordRecovery,render:function(){return Object(x.jsx)(je,{})}}),Object(x.jsx)(u.b,{path:ye.newPassword,render:function(){return Object(x.jsx)(le,{})}}),Object(x.jsx)(u.b,{path:ye.testPage,render:function(){return Object(x.jsx)(_e,{})}}),Object(x.jsx)(u.a,{from:ye.pageNotFound,to:ye.page404})]})})]})})},Re=r(15),ke=r(50),Te=Object(Re.c)({register:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"/register_reducer/SET_IS_REGISTER":return Object(l.a)(Object(l.a)({},e),{},{isRegister:t.isRegister});case"/register_reducer/SET_STATUS":return Object(l.a)(Object(l.a)({},e),{},{status:t.status});case"/register_reducer/SET_ERROR":return Object(l.a)(Object(l.a)({},e),{},{error:t.error});default:return e}},auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"friday-project/login/SET_USER_DATA":return Object(l.a)(Object(l.a)({},e),{},{userData:Object(l.a)({},t.payload)});case"friday-project/login/SET_IS_LOADING":return Object(l.a)(Object(l.a)({},e),{},{isLoading:t.value});case"friday-project/login/SET_ERROR":return Object(l.a)(Object(l.a)({},e),{},{error:t.error});case"friday-project/login/SET_IS_AUTH_SUCCESS":return Object(l.a)(Object(l.a)({},e),{},{isAuthSuccess:t.value});default:return e}},passwordRecovery:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"passwordRecovery/CHANGE-REQUEST-STATUS":return Object(l.a)(Object(l.a)({},e),{},{serverResponseStatus:t.status});case"passwordRecovery/SET-ERROR":return Object(l.a)(Object(l.a)({},e),{},{error:t.error});case"passwordRecovery/SET-REQUEST-STATUS":return Object(l.a)(Object(l.a)({},e),{},{serverRequestStatus:t.serverRequestStatus});default:return e}}}),Ne=Object(Re.d)(Te,Object(Re.a)(ke.a));window.store=Ne,s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(_.a,{store:Ne,children:Object(x.jsx)(we,{})})}),document.getElementById("root")),o()}},[[82,1,2]]]);
//# sourceMappingURL=main.5dd80b93.chunk.js.map